//////////////////
// TYPO GLOBALS //
//////////////////

$typo-sizes: () !default;
$typo-mults: () !default;

$typo-curr-font: null !default;
$typo-curr-font-size: 1rem !default;
$typo-curr-line-height: null !default;
$typo-curr-char-height: null !default;

$typo-min-height: 1.125 !default;
$typo-sub-lines: 2 !default;
$done-typo-setup: false !default;

$trim-classes: (
  line: 'line',
  self: 'self',
  area: 'area'
) !default;

$fonts: (
  base: (
    family: 'FamilyName',
    path: 'path/to/fonts/',
    files: (
      (
        name: 'normal-font-no-extension',
        style: normal,
        weight: normal,
      ),
      (
        name: 'bold-font-no-extension',
        style: normal,
        weight: bold,
      ),
      (
        name: 'italic-font-no-extension',
        style: italic,
        weight: normal,
      ),
    ),
    spacing: 0,
    size-mod: 1,
    cap-height: 1
  )
) !default;




////////////////
// TYPO SETUP //
////////////////

@mixin setup-typo($options: null, $sizes: (), $mults: (), $output: true) {
  @if $options { @include setup-typo($options...); } @else {

    $typo-sizes: $sizes !global;
    $typo-mults: $mults !global;

    $line: map-get($trim-classes, 'line');
    // $self: map-get($trim-classes, 'self');
    $area: map-get($trim-classes, 'area');

    @if $output {
      .t-#{$line} {
        line-height: 1 !important;
        margin-top: 0 !important;
        margin-bottom: 0 !important;
      }
      @include media((for: margin-y)) {
        .t-#{$area} > * + * { margin-top: margin-y(); }
        @each $alias, $mult in $typo-mults {
          .t-#{$area}--#{$alias} > * + * { margin-top: margin-y($mult); }
        }
      }
    }
    $done-typo-setup: true !global;
  }
}

// @mixin setup-typo($options){
//   $line: map-get($trim-classes, 'line');
//   $self: map-get($trim-classes, 'self');
//   $area: map-get($trim-classes, 'area');

//   // base classes
//   .t-#{$line} {
//     line-height: 1 !important;
//     margin-top: 0 !important;
//     margin-bottom: 0 !important;
//   }
//   @include media((for: margin-y)) {
//     .t-#{$content} > * + * { margin-top: margin-y(); }
//   }

//   $done-typo-setup: true !global;
// }