///////////
// FONTS //
///////////


// font face mixin
@mixin font-face($family, $dir, $file, $style, $weight) {
  @font-face {
    font-family: $family;
    font-style: $style;
    font-weight: $weight; // this should be both word and number values
    src: url('#{$dir}#{$file}.eot'); // IE9 Compat Modes
    src: url('#{$dir}#{$file}.eot?#iefix') format('embedded-opentype'),
       url('#{$dir}#{$file}.woff') format('woff'),
       url('#{$dir}#{$file}.svg##{$file}') format('svg'),
       url('#{$dir}#{$file}.ttf') format('truetype');
  }
}

// FONT SETUP mixin

@mixin setup-fonts(){
  @each $alias, $font in $fonts {

    // setup font-faces
    @each $file in map-get($font, 'files') {
      $family: map-get($font, family);
      $path: map-get($font, path);
      $name: map-get($file, name);
      $style: map-get($file, style) or normal;
      $weight: map-get($file, weight) or normal;
      @include font-face($family, $path, $name, $style, $weight);
    }

    // setup classes
    .font--#{$alias} { font-family: map-get($font, family); }

  }
}

// font object function
@function font($alias: $typo-curr-font) { @return if($alias, map-get($fonts, $alias), map-get($fonts, 'base')); }
// @function font($alias) { @return map-get($fonts, $alias); }

// font value function
@function font-value($keys...) { @return get($fonts, $keys...); }